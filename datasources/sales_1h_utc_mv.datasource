# Data Source created from Pipe 'sales_1h_utc'
DESCRIPTION >
    Sales aggregated per hour per store as a Materialized View.
Note that there's ~4hrs per year per store where the data is slightly off due to DST changes - a tradeoff for simplicity.

SCHEMA >
    `store` String,
    `period_utc` DateTime,
    `sale_amount` SimpleAggregateFunction(sum, Int64)

ENGINE "AggregatingMergeTree"
ENGINE_PARTITION_KEY "toYYYYMM(period_utc)"
ENGINE_SORTING_KEY "store, period_utc"
